backend:
  name: github
  repo: eboxr/pie-sky # GitHub repository (username/repo-name)
  branch: master # Branch to update (change this if your production branch is different)
  base_url: https://api.netlify.com # Netlify OAuth API endpoint
  auth_endpoint: auth # OAuth authentication endpoint
  site_domain: pieinthesky-eden.com # Your custom domain

# Uncomment below to enable local development (for testing)
# When enabled, you can access the CMS without GitHub OAuth authentication
# You'll need to run: npx netlify-cms-proxy-server
# Remember to comment this out before deploying to production!
#local_backend: true

media_folder: "static/images" # Media files will be stored in the repo under static/images
public_folder: "/images" # The src attribute for uploaded media will begin with /images

# Collections define the structure for different content types
collections:
  - name: "fruit_pies"
    label: "Fruit Pies"
    folder: "content/fruit-pies"
    create: false # Don't allow creating new pies, only editing existing ones
    delete: false # Don't allow deleting pies
    slug: "{{slug}}"
    # preview_path removed - using custom React template instead
    fields:
      - {label: "Title", name: "title", widget: "string", required: true}
      - {label: "Description", name: "description", widget: "hidden"}
      - {label: "Short Description", name: "shortDescription", widget: "hidden"}
      - {label: "Ingredients", name: "ingredients", widget: "text", required: false, hint: "List of ingredients (supports markdown)"}
      - {label: "Price", name: "price", widget: "string", required: false, hint: "Price in dollars (e.g., '25'). Required only when 'Display Price On the Pie Card' is enabled."}
      - {label: "Display Price On the Pie Card", name: "displayPrice", widget: "boolean", default: false, hint: "Check to show pricing instead of short description"}
      - {label: "Sold Out", name: "sold_out", widget: "boolean", default: false, hint: "Check this box to mark the pie as sold out"}
      - {label: "Draft", name: "draft", widget: "hidden", default: false}
      - {label: "Type", name: "type", widget: "hidden", default: "fruit"}
      - {label: "Date", name: "date", widget: "hidden"}

  - name: "cream_pies"
    label: "Cream Pies"
    folder: "content/cream-pies"
    create: false
    delete: false # Don't allow deleting pies
    slug: "{{slug}}"
    # preview_path removed - using custom React template instead
    fields:
      - {label: "Title", name: "title", widget: "string", required: true}
      - {label: "Description", name: "description", widget: "hidden"}
      - {label: "Short Description", name: "shortDescription", widget: "hidden"}
      - {label: "Ingredients", name: "ingredients", widget: "text", required: false, hint: "List of ingredients (supports markdown)"}
      - {label: "Price", name: "price", widget: "string", required: false, hint: "Price in dollars (e.g., '25'). Required only when 'Display Price On the Pie Card' is enabled."}
      - {label: "Display Price On the Pie Card", name: "displayPrice", widget: "boolean", default: false, hint: "Check to show pricing instead of short description"}
      - {label: "Sold Out", name: "sold_out", widget: "boolean", default: false, hint: "Check this box to mark the pie as sold out"}
      - {label: "Draft", name: "draft", widget: "hidden", default: false}
      - {label: "Type", name: "type", widget: "hidden", default: "cream"}
      - {label: "Date", name: "date", widget: "hidden"}

  - name: "special_pies"
    label: "Special Pies"
    folder: "content/special-pies"
    create: false
    delete: false # Don't allow deleting pies
    slug: "{{slug}}"
    # preview_path removed - using custom React template instead
    fields:
      - {label: "Title", name: "title", widget: "string", required: true}
      - {label: "Description", name: "description", widget: "hidden"}
      - {label: "Short Description", name: "shortDescription", widget: "hidden"}
      - {label: "Ingredients", name: "ingredients", widget: "text", required: false, hint: "List of ingredients (supports markdown)"}
      - {label: "Price", name: "price", widget: "string", required: false, hint: "Price in dollars (e.g., '25'). Required only when 'Display Price On the Pie Card' is enabled."}
      - {label: "Display Price On the Pie Card", name: "displayPrice", widget: "boolean", default: false, hint: "Check to show pricing instead of short description"}
      - {label: "Sold Out", name: "sold_out", widget: "boolean", default: false, hint: "Check this box to mark the pie as sold out"}
      - {label: "Draft", name: "draft", widget: "hidden", default: false}
      - {label: "Type", name: "type", widget: "hidden", default: "special"}
      - {label: "Date", name: "date", widget: "hidden"}

  - name: "dinner_pies"
    label: "Dinner Pies"
    folder: "content/dinner-pies"
    create: false
    delete: false # Don't allow deleting pies
    slug: "{{slug}}"
    # preview_path removed - using custom React template instead
    fields:
      - {label: "Title", name: "title", widget: "string", required: true}
      - {label: "Description", name: "description", widget: "hidden"}
      - {label: "Short Description", name: "shortDescription", widget: "hidden"}
      - {label: "Ingredients", name: "ingredients", widget: "text", required: false, hint: "List of ingredients (supports markdown)"}
      - {label: "Family Size Price", name: "price", widget: "string", required: false, hint: "Family size price in dollars (e.g., '30'). Required only when 'Display Price On the Pie Card' is enabled."}
      - {label: "Personal Size Price", name: "personalPrice", widget: "string", required: false, hint: "Personal size price in dollars (e.g., '7.50'). Leave empty if not available."}
      - {label: "Display Price On the Pie Card", name: "displayPrice", widget: "boolean", default: false, hint: "Check to show pricing instead of short description (useful when no personal size)"}
      - {label: "Family Size Sold Out", name: "big_sold_out", widget: "boolean", default: false, hint: "Check if family size pies are sold out"}
      - {label: "Family Size Sold Out Message", name: "big_sold_out_comment", widget: "text", required: false, hint: "Message to display when family size is sold out (supports markdown)"}
      - {label: "Personal Size Sold Out", name: "small_sold_out", widget: "boolean", default: false, hint: "Check if personal size pies are sold out"}
      - {label: "Personal Size Sold Out Message", name: "small_sold_out_comment", widget: "text", required: false, hint: "Message to display when personal size is sold out (supports markdown)"}
      - {label: "Draft", name: "draft", widget: "hidden", default: false}
      - {label: "Type", name: "type", widget: "hidden", default: "dinner"}
      - {label: "Date", name: "date", widget: "hidden"}

  - name: "hand_pies"
    label: "Hand Pies"
    folder: "content/hand-pies"
    create: false
    delete: false # Don't allow deleting pies
    slug: "{{slug}}"
    # preview_path removed - using custom React template instead
    fields:
      - {label: "Title", name: "title", widget: "string", required: true}
      - {label: "Description", name: "description", widget: "hidden"}
      - {label: "Short Description", name: "shortDescription", widget: "hidden"}
      - {label: "Ingredients", name: "ingredients", widget: "text", required: false, hint: "List of ingredients (supports markdown)"}
      - {label: "Price", name: "price", widget: "string", required: false, hint: "Price in dollars (e.g., '25'). Required only when 'Display Price On the Pie Card' is enabled."}
      - {label: "Display Price On the Pie Card", name: "displayPrice", widget: "boolean", default: false, hint: "Check to show pricing instead of short description"}
      - {label: "Sold Out", name: "sold_out", widget: "boolean", default: false, hint: "Check this box to mark the pie as sold out"}
      - {label: "Draft", name: "draft", widget: "hidden", default: false}
      - {label: "Type", name: "type", widget: "hidden", default: "hand"}
      - {label: "Date", name: "date", widget: "hidden"}

  - name: "banner_config"
    label: "Banner Configuration"
    files:
      - file: "data/homepage.yml"
        label: "Seasonal Banner"
        name: "seasonal_banner"
        fields:
          - {label: "Enable Seasonal Banner", name: "seasonal.enable", widget: "boolean", default: true, hint: "Show or hide the seasonal banner on the homepage"}
          - {label: "Banner Title", name: "seasonal.title", widget: "text", required: false, hint: "Title text for the seasonal banner (supports markdown)"}
          - {label: "Banner Content", name: "seasonal.content", widget: "markdown", required: false, hint: "Content text for the seasonal banner (supports markdown)"}
          - {label: "Seasonal Event", name: "seasonal.event", widget: "banner-event-select", options: ["regular", "newyear", "valentine", "patrick", "spring", "easter", "national", "summer", "fall", "thxgiving", "xmas"], default: "regular", hint: "Select the seasonal event. This will automatically update the gradient in config.toml when you publish"}

  - name: "special_event_config"
    label: "Special Event"
    files:
      - file: "data/homepage.yml"
        label: "Special Event Content"
        name: "special_event"
        fields:
          - {label: "Enable Special Event", name: "special_event.enable", widget: "boolean", default: true, hint: "Show or hide the special event section on the homepage"}
          - {label: "Content", name: "special_event.content", widget: "split-markdown", required: false, hint: "Special event content (supports markdown). Edit on the left, preview on the right."}
          - {label: "Image", name: "special_event.image", widget: "image", required: false, hint: "Image to display alongside the content"}
          - {label: "Image Alt Text", name: "special_event.imageAlt", widget: "string", required: false, hint: "Alt text for the image"}

